<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.js"></script>

    <div>
    <form  onsubmit="addItem(event)">
        <label for="price">Choose price</label>
  <input type="number" id="price" value="1000" name="price">

        <label for="item">Choose dish</label>
  <input type="text" id="item" value="dum biryani" name="price">

        <label for="tablee">Choose  Table</label>
        <select  id="tablee" name="price"> 
            <option id="tt1" value="table 1">table 1</option>
            <option  value="table 2">table 2</option>
            <option value="table 3">table 3</option>
            <option value="table 4">table 4</option>
        </select>
        <button>add to bill</button>
    </form>
</div>
<h1>ORDERS:-</h1>
<h2>Table 1</h2><ul id="table 1"> </ul>

<h2>Table 2</h2><ul id="table 2"> </ul>

<h2>Table 3</h2><ul id="table 3"> </ul>

<h2>Table 4</h2><ul id="table 4"> </ul>

<script>
    
  
   
   


function addItem(event) {
  event.preventDefault()


    let price=document.getElementById("price").value
    let item=document.getElementById("item").value
    let table=document.getElementById("tablee").value

    let obj={
        price,
        item,
        table
    }

axios.post("https://crudcrud.com/api/8475f1fe037b4b758e3d851279560d22/Orders",obj
)
.then((s)=> console.log(s))
.catch((err)=> console.log(err))
    // console.log(obj)
   
   
    showinweb(obj)
  




// document.addEventListener("DOMContentLoaded", () => {
//         axios.get("https://crudcrud.com/api/8475f1fe037b4b758e3d851279560d22/Orders")
//             .then(obje => {  
//                 for (let i = 0; i < obje.data.length; i++) {
//                     showinweb(obje.data[i]);
//                 }
//             //   console.log(obje.data)
//             })
//             .catch(err => console.log(err));

//           })

function showinweb(obj){
let li=document.createElement("li")
li.textContent= obj.price +"--"+ obj.table +"--"+obj.item  ;
// delete btn
let delbtn=document.createElement("input")
delbtn.type="button"
delbtn.value="Delete Order"
// var table=document.getElementById("tablee").value
let ul=document.getElementById(table)
li.appendChild(delbtn)
ul.appendChild(li)



delbtn.onclick=() => {
        let ids=obj._id;
        console.log(obj)
                // axios.delete("https://crudcrud.com/api/8475f1fe037b4b758e3d851279560d22/Orders" +'/' +ids)
                // ul.removeChild(li)
    }


    

    }

    
} 


</script>
</body>
</html>